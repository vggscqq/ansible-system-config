- name: Gnome | shell settings | button-layout
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/wm/preferences/button-layout"
    value: "'appmenu:minimize,close'"

# - name: Gnome | shell settings | event-sounds (disable)
#   tags: gnome,audio,sounds,alerts
#   become_user: vgscq
#   become: true
#   community.general.dconf:
#     key: "/org/gnome/desktop/sound/event-sounds"
#     value: "false"

# Disable screen blanking
- name: Gnome | shell settings | idle-delay
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/session/idle-delay"
    value: "uint32 0"

- name: Gnome | shell settings | Allow volume above 100 percent
  tags: gnome,audio,sounds,alerts
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/sound/allow-volume-above-100-percent"
    value: "true"

- name: Gnome | shell settings | old-files-age
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/privacy/old-files-age"
    value: "uint32 14"

- name: Gnome | shell settings | remove-old-temp-files
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/privacy/remove-old-temp-files"
    value: "true"

- name: Gnome | shell settings | remove-old-trash-files
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/privacy/remove-old-trash-files"
    value: "true"

- name: Gnome | shell settings | search-providers
  tags: gnome,search,skip_ansible_lint
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/search-providers/disabled"
    value: "['org.gnome.Nautilus.desktop', \
      'org.gnome.Calculator.desktop', \
      'org.gnome.seahorse.Application.desktop', \
      'org.gnome.Photos.desktop', \
      'org.gnome.Terminal.desktop', \
      'org.gnome.Documents.desktop', \
      'org.gnome.Contacts.desktop', \
      'org.gnome.Calendar.desktop']"

- name: Gnome | shell settings | show-battery-percentage
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/desktop/interface/show-battery-percentage"
    value: "true"

- name: Gnome | shell settings | workspaces-only-on-primary
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/mutter/workspaces-only-on-primary"
    value: "true"

- name: Gnome | shell settings | set gnome-screenshot default save directory
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gnome/gnome-screenshot/auto-save-directory"
    value: "'/tmp'"

- name: Gnome | nautilus | set directories to be shown first
  tags: gnome,gnome-shell
  become_user: vgscq
  become: true
  community.general.dconf:
    key: "/org/gtk/settings/file-chooser/sort-directories-first"
    value: "true"

- name: Replace the second line in fish_greeting.fish
  ansible.builtin.lineinfile:
    path: /home/vgscq/.config/fish/functions/fish_greeting.fish
    regexp: '^(\s*python\s+~/.config/fish/greeting.py\s*)$'
    line: '    python ~/.config/fish/greeting.py workstation'
    state: present

- name: Copy TODOs
  ansible.builtin.copy:
    src: TODO
    dest: /home/vgscq/
    owner: vgscq
    group: vgscq
    mode: '0644'